# LauraDB Environment Configuration
# Copy this file to .env and customize for your deployment

# ==============================================
# Server Configuration
# ==============================================

# Server port (default: 8080)
LAURA_PORT=8080

# ==============================================
# Disk Storage Configuration
# ==============================================

# Buffer pool size in pages (1 page = 4KB)
# Larger values = better query performance but more memory usage
#
# Recommendations:
#   - Small deployment (<10K docs):     500-1000 pages   (~2-4 MB)
#   - Medium deployment (10K-100K):     2000-5000 pages  (~8-20 MB)
#   - Large deployment (>100K):         10000+ pages     (~40+ MB)
#
# Default: 1000 (4MB)
LAURA_BUFFER_SIZE=1000

# Document cache size per collection
# Larger values = more cached documents but more memory usage
# Each collection maintains its own LRU cache
#
# Recommendations:
#   - Memory-constrained:               500-1000 docs
#   - Typical deployment:               1000-2000 docs
#   - High-read workloads:              5000+ docs
#
# Default: 1000
LAURA_DOC_CACHE=1000

# ==============================================
# CORS Configuration
# ==============================================

# Allowed CORS origin
# Set to specific domain in production: https://yourdomain.com
# Default: * (allows all origins)
LAURA_CORS_ORIGIN=*

# ==============================================
# Monitoring (Optional)
# ==============================================

# Grafana admin credentials (when using --profile monitoring)
# ⚠️ Change these in production!
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ==============================================
# Production Example
# ==============================================
#
# For production, use docker-compose.prod.yml and override these:
#
# LAURA_BUFFER_SIZE=5000
# LAURA_DOC_CACHE=5000
# LAURA_CORS_ORIGIN=https://yourdomain.com
# GRAFANA_ADMIN_PASSWORD=<strong-password>

# ==============================================
# Memory Budget Calculator
# ==============================================
#
# Total Memory = (BUFFER_SIZE × 4KB) + (Collections × DOC_CACHE × AvgDocSize) + Overhead
#
# Example with these settings:
#   LAURA_BUFFER_SIZE=5000
#   LAURA_DOC_CACHE=2000
#   Assuming 10 collections, 1KB avg doc size, 50MB overhead:
#
#   Memory = (5000 × 4KB) + (10 × 2000 × 1KB) + 50MB
#          = 20MB + 20MB + 50MB
#          = 90MB total
#
# Adjust based on your available memory and dataset size.
